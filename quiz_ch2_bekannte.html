<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>üë• Kapitel 2 ‚Äì Bekannte Leute (50 Fragen)</title>
  <style>
    body { font-family: Arial, sans-serif; background: linear-gradient(to right, #ff9966, #ff5e62); text-align: center; padding: 20px; color: #333; }
    .quiz-box { background:#fff; padding:20px; border-radius:15px; max-width:850px; margin:auto; box-shadow:0 6px 12px rgba(0,0,0,0.3);}
    .question { font-size:20px; margin-bottom:20px; }
    .answers { display:grid; gap:10px; }
    .answer { padding:12px; border-radius:8px; cursor:pointer; background:#2196f3; color:#fff; transition:0.3s; }
    .answer:hover { transform:scale(1.05); }
    .correct { background:#4caf50 !important; }
    .wrong { background:#f44336 !important; }
    .score { font-size:18px; margin-top:20px; }
    .timer { font-size:18px; margin:10px; color:#e91e63; }
    .explanation { margin-top:12px; text-align:left; color:#333; background:#f5f5f5; padding:10px; border-radius:8px; }
    input[type="text"] { padding:8px; font-size:16px; width:60%; }
    button { margin-top:10px; padding:10px 20px; font-size:16px; cursor:pointer; background:#ff416c; border:none; border-radius:8px; color:#fff; }
    button:hover { background:#ff4b2b; }
    .text-box { background:#f0f0f0; padding:12px; border-radius:10px; margin:15px 0; text-align:left; }
  </style>
</head>
<body>
  <h1>üë• Kapitel 2 ‚Äì Bekannte Leute (50 Fragen)</h1>
  <div class="quiz-box" id="quiz">
    <div id="passage" class="text-box" style="display:none;">
      <b>Text:</b><br>
      Das ist Anna. Sie ist Studentin aus Deutschland.<br>
      Ihr Freund Paul ist Ingenieur.<br>
      Anna spielt gern Klavier, Paul liest gern B√ºcher.<br>
      Am Wochenende gehen sie zusammen spazieren.<br>
    </div>
    <div class="question" id="question">Frage</div>
    <div class="answers" id="answers"></div>
    <div id="fillin" style="display:none;">
      <input type="text" id="fillInput" placeholder="Deine Antwort">
      <button onclick="checkFill()">Antwort pr√ºfen</button>
    </div>
    <div class="explanation" id="explanation" style="display:none;"></div>
    <div class="timer" id="timer"></div>
    <div class="score" id="score">Punkte: 0</div>
    <button onclick="prevQuestion()">‚¨Ö Zur√ºck</button>
    <button onclick="nextQuestion()">N√§chste Frage ‚û°</button>
    <p><a href="chapter2.html">üîô Zur√ºck zu Lektion 2</a></p>
    <p><a href="quiz_ch2_berufe.html">‚è≠ Weiter: Berufe</a></p>
  </div>

<script>
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

const quizData = [
  // ---- 20 Multiple Choice ----
  {type:"mc", question:"Wer ist das? ‚Äì ‚ÄûDas ist ___ Freund.‚Äú", answers:["sie","er","dein","mein"], correct:"mein", explain:"Richtig: Das ist mein Freund."},
  {type:"mc", question:"Welche Antwort passt? ‚Äì ‚ÄûDas ist meine Mutter.‚Äú", answers:["Vater","Mutter","Bruder","Schwester"], correct:"Mutter", explain:"Das ist meine Mutter."},
  {type:"mc", question:"Wie hei√üt der Bruder von Anna?", answers:["Peter","Paul","Hans","Karl"], correct:"Paul", explain:"Richtig: Paul ist ihr Bruder."},
  {type:"mc", question:"Wer ist die Schwester von Maria?", answers:["Clara","Sofia","Anna","Lisa"], correct:"Lisa", explain:"Richtig: Lisa ist ihre Schwester."},
  {type:"mc", question:"Das ist Peter. ___ ist Student.", answers:["Er","Sie","Wir","Ihr"], correct:"Er", explain:"Peter ‚Üí Er."},
  {type:"mc", question:"Das ist meine Tante. ___ hei√üt Eva.", answers:["Du","Sie","Es","Wir"], correct:"Sie", explain:"Meine Tante ‚Üí Sie."},
  {type:"mc", question:"Welche Antwort passt? ‚Äì ‚ÄûIst das dein Vater?‚Äú", answers:["Ja, das ist mein Vater.","Nein, das ist meine Mutter.","Nein, das ist mein Bruder.","Ja, das ist mein Onkel."], correct:"Ja, das ist mein Vater.", explain:"Korrekt: mein Vater."},
  {type:"mc", question:"Welche Antwort passt? ‚Äì ‚ÄûHast du Geschwister?‚Äú", answers:["Ja, ich habe einen Bruder.","Nein, ich habe keine.","Ich habe eine Schwester.","Alle Antworten sind m√∂glich."], correct:"Alle Antworten sind m√∂glich.", explain:"Alle k√∂nnen passen."},
  {type:"mc", question:"Das ist meine Oma. ___ ist alt.", answers:["Sie","Er","Es","Du"], correct:"Sie", explain:"Oma ‚Üí Sie."},
  {type:"mc", question:"Das ist mein Opa. ___ ist freundlich.", answers:["Wir","Es","Er","Sie"], correct:"Er", explain:"Opa ‚Üí Er."},
  {type:"mc", question:"Das sind meine Eltern. ___ wohnen in Berlin.", answers:["Sie","Es","Wir","Ihr"], correct:"Sie", explain:"Eltern (Plural) ‚Üí Sie."},
  {type:"mc", question:"Anna und Paul sind Geschwister. ___ kommen aus Wien.", answers:["Sie","Ihr","Wir","Es"], correct:"Sie", explain:"Plural ‚Üí Sie kommen."},
  {type:"mc", question:"Welche Antwort passt? ‚Äì ‚ÄûHast du eine Schwester?‚Äú", answers:["Ja, ich habe keine.","Ja, ich habe eine.","Nein, ich habe eine.","Nein, ich habe keine."], correct:"Ja, ich habe eine.", explain:"Positive Antwort mit eine."},
  {type:"mc", question:"Welche Antwort passt? ‚Äì ‚ÄûDas ist mein Onkel.‚Äú", answers:["Sie ist nett.","Er ist nett.","Wir sind nett.","Du bist nett."], correct:"Er ist nett.", explain:"Onkel ‚Üí Er."},
  {type:"mc", question:"Das ist meine Cousine. ___ spielt Klavier.", answers:["Sie","Wir","Es","Er"], correct:"Sie", explain:"Cousine ‚Üí Sie."},
  {type:"mc", question:"Das ist mein Bruder. ___ hei√üt Thomas.", answers:["Sie","Wir","Er","Ihr"], correct:"Er", explain:"Bruder ‚Üí Er."},
  {type:"mc", question:"Das ist mein Kind. ___ ist klein.", answers:["Es","Wir","Er","Sie"], correct:"Es", explain:"Kind ‚Üí Es."},
  {type:"mc", question:"Das sind meine Gro√üeltern. ___ wohnen in M√ºnchen.", answers:["Wir","Sie","Es","Ihr"], correct:"Sie", explain:"Plural ‚Üí Sie."},
  {type:"mc", question:"Das ist mein Freund. ___ studiert Medizin.", answers:["Er","Wir","Es","Sie"], correct:"Er", explain:"Freund ‚Üí Er."},
  {type:"mc", question:"Das ist meine Freundin. ___ kommt aus Italien.", answers:["Er","Es","Sie","Wir"], correct:"Sie", explain:"Freundin ‚Üí Sie."},

  // ---- 20 Fill in ----
  {type:"fill", question:"(my brother) Das ist ___.", correct:"mein Bruder", explain:"Das ist mein Bruder."},
  {type:"fill", question:"(her sister) Das ist ___.", correct:"ihre Schwester", explain:"Das ist ihre Schwester."},
  {type:"fill", question:"(our parents) Das sind ___.", correct:"unsere Eltern", explain:"Das sind unsere Eltern."},
  {type:"fill", question:"(his father) Das ist ___.", correct:"sein Vater", explain:"Das ist sein Vater."},
  {type:"fill", question:"(your mother, singular) Ist das ___?", correct:"deine Mutter", explain:"Ist das deine Mutter?"},
  {type:"fill", question:"(our cousin) Das ist ___.", correct:"unser Cousin", explain:"Das ist unser Cousin."},
  {type:"fill", question:"(their uncle) Das ist ___.", correct:"ihr Onkel", explain:"Das ist ihr Onkel."},
  {type:"fill", question:"(my aunt) Das ist ___.", correct:"meine Tante", explain:"Das ist meine Tante."},
  {type:"fill", question:"(your grandfather, plural you) Das ist ___?", correct:"euer Gro√üvater", explain:"Ist das euer Gro√üvater?"},
  {type:"fill", question:"(our grandmother) Das ist ___.", correct:"unsere Gro√ümutter", explain:"Das ist unsere Gro√ümutter."},
  {type:"fill", question:"(his child) Das ist ___.", correct:"sein Kind", explain:"Das ist sein Kind."},
  {type:"fill", question:"(her children) Das sind ___.", correct:"ihre Kinder", explain:"Das sind ihre Kinder."},
  {type:"fill", question:"(my friend, female) Das ist ___.", correct:"meine Freundin", explain:"Das ist meine Freundin."},
  {type:"fill", question:"(our friend, male) Das ist ___.", correct:"unser Freund", explain:"Das ist unser Freund."},
  {type:"fill", question:"(their daughter) Das ist ___.", correct:"ihre Tochter", explain:"Das ist ihre Tochter."},
  {type:"fill", question:"(your son, polite) Das ist ___?", correct:"Ihr Sohn", explain:"Ist das Ihr Sohn?"},
  {type:"fill", question:"(his wife) Das ist ___.", correct:"seine Frau", explain:"Das ist seine Frau."},
  {type:"fill", question:"(her husband) Das ist ___.", correct:"ihr Mann", explain:"Das ist ihr Mann."},
  {type:"fill", question:"(our family) Das ist ___.", correct:"unsere Familie", explain:"Das ist unsere Familie."},
  {type:"fill", question:"(my cousin, female) Das ist ___.", correct:"meine Cousine", explain:"Das ist meine Cousine."},

  // ---- 10 True/False ----
  {type:"mc", question:"Anna ist Studentin.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Anna ist Studentin."},
  {type:"mc", question:"Paul ist Arzt.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Paul ist Ingenieur."},
  {type:"mc", question:"Anna spielt gern Klavier.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Anna spielt gern Klavier."},
  {type:"mc", question:"Paul spielt gern Fu√üball.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Paul liest gern B√ºcher."},
  {type:"mc", question:"Am Wochenende gehen Anna und Paul spazieren.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Sie gehen spazieren."},
  {type:"mc", question:"Anna wohnt allein.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie wohnt mit Paul."},
  {type:"mc", question:"Paul kommt aus Deutschland.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Paul kommt aus Deutschland."},
  {type:"mc", question:"Anna kommt aus Frankreich.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie kommt aus Deutschland."},
  {type:"mc", question:"Anna und Paul wohnen zusammen.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Sie wohnen zusammen."},
  {type:"mc", question:"Anna und Paul gehen nie spazieren.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie gehen am Wochenende spazieren."}
];

let current=0,score=0,timer,timeLeft=0;
const qEl=document.getElementById("question");
const aEl=document.getElementById("answers");
const fEl=document.getElementById("fillin");
const input=document.getElementById("fillInput");
const tEl=document.getElementById("timer");
const sEl=document.getElementById("score");
const eEl=document.getElementById("explanation");
const passage=document.getElementById("passage");

function loadQuestion(){
  const q=quizData[current];
  qEl.innerHTML=(current+1)+". "+q.question;
  aEl.innerHTML=""; fEl.style.display="none"; eEl.style.display="none"; eEl.innerHTML="";
  if(current>=40){ passage.style.display="block"; } else { passage.style.display="none"; }

  if(q.type==="mc"){
    const shuffled = shuffle([...q.answers]);
    shuffled.forEach(ans=>{
      const btn=document.createElement("div");
      btn.className="answer"; btn.innerText=ans;
      btn.onclick=()=>checkAnswer(btn,ans,q.correct,q.explain);
      aEl.appendChild(btn);
    });
    if(current<20) resetTimer(20);
    else if(current<40) resetTimer(35);
    else resetTimer(300);
  } else {
    fEl.style.display="block";
    input.value=""; input.focus();
    if(current<40) resetTimer(35); else resetTimer(300);
  }
}
function checkAnswer(button,answer,correct,explanation){
  clearInterval(timer); lockAnswers();
  if(answer===correct){ button.classList.add("correct"); score+=10; }
  else{ button.classList.add("wrong"); }
  sEl.innerText="Punkte: "+score;
  eEl.style.display="block"; eEl.innerHTML=explanation;
}
function checkFill(){
  clearInterval(timer);
  const q=quizData[current];
  let ans=input.value.trim();
  if(ans===q.correct){ score+=10; eEl.innerHTML="‚úÖ Richtig: "+q.correct; }
  else{ eEl.innerHTML="‚ùå Falsch. Richtige Antwort: "+q.correct; }
  eEl.style.display="block"; sEl.innerText="Punkte: "+score;
}
function lockAnswers(){ document.querySelectorAll(".answer").forEach(b=>b.style.pointerEvents="none"); }
function nextQuestion(){ clearInterval(timer); current++; if(current<quizData.length) loadQuestion(); else qEl.innerHTML="üéâ Quiz beendet! Punkte: "+score; }
function prevQuestion(){ if(current>0){ current--; loadQuestion(); } }
function resetTimer(seconds){
  timeLeft=seconds; tEl.innerText="‚è± "+timeLeft+"s"; clearInterval(timer);
  timer=setInterval(()=>{ timeLeft--; tEl.innerText="‚è± "+timeLeft+"s";
    if(timeLeft<=0){ clearInterval(timer);
      const q=quizData[current]; eEl.style.display="block"; eEl.innerHTML="‚è∞ Zeit abgelaufen. Richtige Antwort: "+q.correct;
    }
  },1000);
}
loadQuestion();
</script>
</body>
</html>
