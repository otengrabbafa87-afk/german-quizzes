<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>📘 Kapitel 1 – Grammatik (50 Fragen)</title>
  <style>
    body { font-family: Arial, sans-serif; background: linear-gradient(to right, #ffecd2, #fcb69f); text-align: center; padding: 20px; color: #333; }
    .quiz-box { background:#fff; padding:20px; border-radius:15px; max-width:850px; margin:auto; box-shadow:0 6px 12px rgba(0,0,0,0.3);}
    .question { font-size:20px; margin-bottom:20px; }
    .answers { display:grid; gap:10px; }
    .answer { padding:12px; border-radius:8px; cursor:pointer; background:#2196f3; color:#fff; transition:0.3s; }
    .answer:hover { transform:scale(1.05); }
    .correct { background:#4caf50 !important; }
    .wrong { background:#f44336 !important; }
    .score { font-size:18px; margin-top:20px; }
    .timer { font-size:18px; margin:10px; color:#e91e63; }
    .explanation { margin-top:12px; text-align:left; color:#333; background:#f5f5f5; padding:10px; border-radius:8px; }
    input[type="text"] { padding:8px; font-size:16px; width:60%; }
    button { margin-top:10px; padding:10px 20px; font-size:16px; cursor:pointer; background:#ff416c; border:none; border-radius:8px; color:#fff; }
    button:hover { background:#ff4b2b; }
    .text-box { background:#f0f0f0; padding:12px; border-radius:10px; margin:15px 0; text-align:left; }
  </style>
</head>
<body>
  <h1>📘 Kapitel 1 – Grammatik (50 Fragen)</h1>
  <div class="quiz-box" id="quiz">
    <div id="passage" class="text-box" style="display:none;">
      <b>Text:</b><br>
      Hallo! Ich bin Sara.<br>
      Ich komme aus Italien und wohne jetzt in Berlin.<br>
      Ich bin Studentin und habe viele Freunde.<br>
      Mein Freund heißt Tom. Er ist Deutscher.<br>
      Zusammen lernen wir Deutsch.
    </div>
    <div class="question" id="question">Frage</div>
    <div class="answers" id="answers"></div>
    <div id="fillin" style="display:none;">
      <input type="text" id="fillInput" placeholder="Deine Antwort">
      <button onclick="checkFill()">Antwort prüfen</button>
    </div>
    <div class="explanation" id="explanation" style="display:none;"></div>
    <div class="timer" id="timer"></div>
    <div class="score" id="score">Punkte: 0</div>
    <button onclick="prevQuestion()">⬅ Zurück</button>
    <button onclick="nextQuestion()">Nächste Frage ➡</button>
    <p><a href="chapter1.html">🔙 Zurück zu Lektion 1</a></p>
  </div>

<script>
// 🔀 Shuffle helper
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

const quizData = [
  // ---- 20 Multiple Choice ----
  {type:"mc", question:"Welche Form ist richtig? – „Ich ___ Student.“", answers:["bin","bist","ist","seid"], correct:"bin", explain:"Ich bin Student."},
  {type:"mc", question:"Welche Form ist richtig? – „Du ___ Lehrer.“", answers:["bist","bin","seid","ist"], correct:"bist", explain:"Du bist Lehrer."},
  {type:"mc", question:"Welche Form ist richtig? – „Er ___ aus Italien.“", answers:["ist","bin","seid","bist"], correct:"ist", explain:"Er ist aus Italien."},
  {type:"mc", question:"Welche Form ist richtig? – „Wir ___ in Wien.“", answers:["sind","seid","ist","bin"], correct:"sind", explain:"Wir sind in Wien."},
  {type:"mc", question:"Welche Form ist richtig? – „Ihr ___ müde.“", answers:["seid","sind","bist","bin"], correct:"seid", explain:"Ihr seid müde."},
  {type:"mc", question:"Welche Form ist richtig? – „Sie (plural) ___ glücklich.“", answers:["sind","ist","bist","seid"], correct:"sind", explain:"Sie sind glücklich."},
  {type:"mc", question:"Welche Form ist richtig? – „Ich ___ ein Buch.“", answers:["habe","hast","hat","haben"], correct:"habe", explain:"Ich habe ein Buch."},
  {type:"mc", question:"Welche Form ist richtig? – „Du ___ ein Auto.“", answers:["hast","habe","hat","haben"], correct:"hast", explain:"Du hast ein Auto."},
  {type:"mc", question:"Welche Form ist richtig? – „Er ___ eine Katze.“", answers:["hat","haben","hast","habe"], correct:"hat", explain:"Er hat eine Katze."},
  {type:"mc", question:"Welche Form ist richtig? – „Wir ___ viel Zeit.“", answers:["haben","habt","hat","hast"], correct:"haben", explain:"Wir haben viel Zeit."},
  {type:"mc", question:"Welche Form ist richtig? – „Ihr ___ Freunde.“", answers:["habt","haben","hat","hast"], correct:"habt", explain:"Ihr habt Freunde."},
  {type:"mc", question:"Welche Form ist richtig? – „Sie ___ Hunger.“", answers:["haben","hat","habt","hast"], correct:"haben", explain:"Sie haben Hunger."},
  {type:"mc", question:"Welche Wortstellung ist korrekt? „Morgen ___ ich frei.“", answers:["habe","frei habe ich","ich habe frei","habe ich"], correct:"habe", explain:"Morgen habe ich frei."},
  {type:"mc", question:"Welche Wortstellung ist korrekt? „Heute ___ du müde.“", answers:["bist","du bist","bist du","müde bist"], correct:"bist", explain:"Heute bist du müde."},
  {type:"mc", question:"Welche Antwort passt? – „Wer bist du?“", answers:["Ich bin Anna.","Ich habe Anna.","Ich heißt Anna.","Ich seid Anna."], correct:"Ich bin Anna.", explain:"Frage → Identität → Ich bin Anna."},
  {type:"mc", question:"Welche Antwort passt? – „Haben Sie Kinder?“", answers:["Ja, ich habe zwei Kinder.","Ja, ich bin zwei Kinder.","Nein, ich bin Kind.","Ja, ich seid Kinder."], correct:"Ja, ich habe zwei Kinder.", explain:"Frage → Besitz → ich habe zwei Kinder."},
  {type:"mc", question:"Welche Form ist richtig? – „Wir ___ Lehrer.“", answers:["sind","seid","bin","bist"], correct:"sind", explain:"Wir sind Lehrer."},
  {type:"mc", question:"Welche Form ist richtig? – „Sie ___ aus Spanien?“", answers:["sind","seid","bin","bist"], correct:"sind", explain:"Sie sind aus Spanien?"},
  {type:"mc", question:"Welche Antwort passt? – „Wo wohnt ihr?“", answers:["Wir wohnen in Berlin.","Ich bin Berlin.","Wir habe Berlin.","Wir sind Berlin."], correct:"Wir wohnen in Berlin.", explain:"Antwort → Wohnort."},
  {type:"mc", question:"Welche Form ist richtig? – „Es ___ kalt.“", answers:["ist","bin","seid","bist"], correct:"ist", explain:"Es ist kalt."},

  // ---- 20 Fill in ----
  {type:"fill", question:"(I am tired) Ich ___ müde.", correct:"bin", explain:"Ich bin müde."},
  {type:"fill", question:"(You are a student) Du ___ Student.", correct:"bist", explain:"Du bist Student."},
  {type:"fill", question:"(He is happy) Er ___ glücklich.", correct:"ist", explain:"Er ist glücklich."},
  {type:"fill", question:"(We are teachers) Wir ___ Lehrer.", correct:"sind", explain:"Wir sind Lehrer."},
  {type:"fill", question:"(You all are friends) Ihr ___ Freunde.", correct:"seid", explain:"Ihr seid Freunde."},
  {type:"fill", question:"(They are hungry) Sie ___ Hunger.", correct:"haben", explain:"Sie haben Hunger."},
  {type:"fill", question:"(I have a book) Ich ___ ein Buch.", correct:"habe", explain:"Ich habe ein Buch."},
  {type:"fill", question:"(You have a car) Du ___ ein Auto.", correct:"hast", explain:"Du hast ein Auto."},
  {type:"fill", question:"(He has a cat) Er ___ eine Katze.", correct:"hat", explain:"Er hat eine Katze."},
  {type:"fill", question:"(We have time) Wir ___ Zeit.", correct:"haben", explain:"Wir haben Zeit."},
  {type:"fill", question:"(You all have money) Ihr ___ Geld.", correct:"habt", explain:"Ihr habt Geld."},
  {type:"fill", question:"(They have children) Sie ___ Kinder.", correct:"haben", explain:"Sie haben Kinder."},
  {type:"fill", question:"(I live in Berlin) Ich ___ in Berlin.", correct:"wohne", explain:"Ich wohne in Berlin."},
  {type:"fill", question:"(She lives in Wien) Sie ___ in Wien.", correct:"wohnt", explain:"Sie wohnt in Wien."},
  {type:"fill", question:"(We live in Köln) Wir ___ in Köln.", correct:"wohnen", explain:"Wir wohnen in Köln."},
  {type:"fill", question:"(Where do you live? informal) Wo ___ du?", correct:"wohnst", explain:"Wo wohnst du?"},
  {type:"fill", question:"(What is your name? informal) Wie ___ du?", correct:"heißt", explain:"Wie heißt du?"},
  {type:"fill", question:"(My name is Paul) Ich ___ Paul.", correct:"heiße", explain:"Ich heiße Paul."},
  {type:"fill", question:"(We are Anna and Peter) Wir ___ Anna und Peter.", correct:"heißen", explain:"Wir heißen Anna und Peter."},
  {type:"fill", question:"(She is Maria) Sie ___ Maria.", correct:"ist", explain:"Sie ist Maria."},

  // ---- 10 True/False Reading ----
  {type:"mc", question:"Sara kommt aus Italien.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Sara kommt aus Italien."},
  {type:"mc", question:"Sara wohnt in Rom.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie wohnt in Berlin."},
  {type:"mc", question:"Sara ist Studentin.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Sara ist Studentin."},
  {type:"mc", question:"Sara hat keine Freunde.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie hat viele Freunde."},
  {type:"mc", question:"Ihr Freund heißt Tom.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Ihr Freund heißt Tom."},
  {type:"mc", question:"Tom ist Deutscher.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Tom ist Deutscher."},
  {type:"mc", question:"Sara und Tom lernen Französisch.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie lernen Deutsch."},
  {type:"mc", question:"Sara wohnt alleine.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Sie wohnt mit Tom."},
  {type:"mc", question:"Sara ist verheiratet.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Nicht im Text erwähnt."},
  {type:"mc", question:"Sara und Tom wohnen in Berlin.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Sie wohnen in Berlin."}
];

let current=0,score=0,timer,timeLeft=0;
const qEl=document.getElementById("question");
const aEl=document.getElementById("answers");
const fEl=document.getElementById("fillin");
const input=document.getElementById("fillInput");
const tEl=document.getElementById("timer");
const sEl=document.getElementById("score");
const eEl=document.getElementById("explanation");
const passage=document.getElementById("passage");

function loadQuestion(){
  const q=quizData[current];
  qEl.innerHTML=(current+1)+". "+q.question;
  aEl.innerHTML=""; fEl.style.display="none"; eEl.style.display="none"; eEl.innerHTML="";
  if(current>=40){ passage.style.display="block"; } else { passage.style.display="none"; }

  if(q.type==="mc"){
    const shuffled = shuffle([...q.answers]); // shuffle answers
    shuffled.forEach(ans=>{
      const btn=document.createElement("div");
      btn.className="answer"; btn.innerText=ans;
      btn.onclick=()=>checkAnswer(btn,ans,q.correct,q.explain);
      aEl.appendChild(btn);
    });

    if(current<20) resetTimer(20);
    else if(current<40) resetTimer(35);
    else resetTimer(300);

  } else {
    fEl.style.display="block";
    input.value=""; input.focus();
    if(current<40) resetTimer(35); else resetTimer(300);
  }
}
function checkAnswer(button,answer,correct,explanation){
  clearInterval(timer); lockAnswers();
  if(answer===correct){ button.classList.add("correct"); score+=10; }
  else{ button.classList.add("wrong"); }
  sEl.innerText="Punkte: "+score;
  eEl.style.display="block"; eEl.innerHTML=explanation;
}
function checkFill(){
  clearInterval(timer);
  const q=quizData[current];
  let ans=input.value.trim();
  if(ans.toLowerCase()===q.correct.toLowerCase()){ score+=10; eEl.innerHTML="✅ Richtig: "+q.correct; }
  else{ eEl.innerHTML="❌ Falsch. Richtige Antwort: "+q.correct; }
  eEl.style.display="block"; sEl.innerText="Punkte: "+score;
}
function lockAnswers(){ document.querySelectorAll(".answer").forEach(b=>b.style.pointerEvents="none"); }
function nextQuestion(){ clearInterval(timer); current++; if(current<quizData.length) loadQuestion(); else qEl.innerHTML="🎉 Quiz beendet! Punkte: "+score; }
function prevQuestion(){ if(current>0){ current--; loadQuestion(); } }
function resetTimer(seconds){
  timeLeft=seconds; tEl.innerText="⏱ "+timeLeft+"s"; clearInterval(timer);
  timer=setInterval(()=>{ timeLeft--; tEl.innerText="⏱ "+timeLeft+"s";
    if(timeLeft<=0){ clearInterval(timer);
      const q=quizData[current]; eEl.style.display="block"; eEl.innerHTML="⏰ Zeit abgelaufen. Richtige Antwort: "+q.correct;
    }
  },1000);
}
loadQuestion();
</script>
</body>
</html>
