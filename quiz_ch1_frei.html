<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>⏰ Kapitel 1 – Hast du frei? (50 Fragen)</title>
  <style>
    body { font-family: Arial, sans-serif; background: linear-gradient(to right, #f7971e, #ffd200); text-align: center; padding: 20px; color: #333; }
    .quiz-box { background:#fff; padding:20px; border-radius:15px; max-width:850px; margin:auto; box-shadow:0 6px 12px rgba(0,0,0,0.3);}
    .question { font-size:20px; margin-bottom:20px; }
    .answers { display:grid; gap:10px; }
    .answer { padding:12px; border-radius:8px; cursor:pointer; background:#2196f3; color:#fff; transition:0.3s; }
    .answer:hover { transform:scale(1.05); }
    .correct { background:#4caf50 !important; }
    .wrong { background:#f44336 !important; }
    .score { font-size:18px; margin-top:20px; }
    .timer { font-size:18px; margin:10px; color:#e91e63; }
    .explanation { margin-top:12px; text-align:left; color:#333; background:#f5f5f5; padding:10px; border-radius:8px; }
    input[type="text"] { padding:8px; font-size:16px; width:60%; }
    button { margin-top:10px; padding:10px 20px; font-size:16px; cursor:pointer; background:#ff416c; border:none; border-radius:8px; color:#fff; }
    button:hover { background:#ff4b2b; }
    .text-box { background:#f0f0f0; padding:12px; border-radius:10px; margin:15px 0; text-align:left; }
  </style>
</head>
<body>
  <h1>⏰ Kapitel 1 – Hast du frei? (50 Fragen)</h1>
  <div class="quiz-box" id="quiz">
    <div id="passage" class="text-box" style="display:none;">
      <b>Text:</b><br>
      Hallo, ich heiße Lukas.<br>
      Ich habe am Wochenende frei.<br>
      Am Samstag spiele ich gern Fußball mit meinen Freunden.<br>
      Am Abend schaue ich nicht gern Fernsehen, ich lese lieber ein Buch.<br>
      Am Sonntag gehe ich gern ins Kino, aber ich gehe nicht gern schwimmen.<br>
      Ich treffe auch gern meine Familie und wir essen zusammen.
    </div>
    <div class="question" id="question">Frage</div>
    <div class="answers" id="answers"></div>
    <div id="fillin" style="display:none;">
      <input type="text" id="fillInput" placeholder="Deine Antwort">
      <button onclick="checkFill()">Antwort prüfen</button>
    </div>
    <div class="explanation" id="explanation" style="display:none;"></div>
    <div class="timer" id="timer"></div>
    <div class="score" id="score">Punkte: 0</div>
    <button onclick="prevQuestion()">⬅ Zurück</button>
    <button onclick="nextQuestion()">Nächste Frage ➡</button>
    <p><a href="chapter1.html">🔙 Zurück zu Lektion 1</a></p>
  </div>

<script>
// 🔀 Shuffle helper
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

const quizData = [
  // ---- 20 Multiple Choice ----
  {type:"mc", question:"Welche Form passt? – „Ich ___ frei.“", answers:["haben","habe","habt","hat"], correct:"habe", explain:"Ich habe frei."},
  {type:"mc", question:"Welche Form passt? – „Du ___ heute frei.“", answers:["hast","hat","haben","habt"], correct:"hast", explain:"Du hast frei."},
  {type:"mc", question:"Welche Form passt? – „Er ___ keine Zeit.“", answers:["habt","habe","hat","haben"], correct:"hat", explain:"Er hat keine Zeit."},
  {type:"mc", question:"Welche Form passt? – „Wir ___ morgen Schule.“", answers:["habe","haben","habt","hat"], correct:"haben", explain:"Wir haben Schule."},
  {type:"mc", question:"Welche Form passt? – „Ihr ___ am Montag frei.“", answers:["haben","habt","hast","hat"], correct:"habt", explain:"Ihr habt am Montag frei."},
  {type:"mc", question:"Welche Form passt? – „Sie (plural) ___ viel Arbeit.“", answers:["haben","habt","hat","hast"], correct:"haben", explain:"Sie haben viel Arbeit."},
  {type:"mc", question:"Welche Antwort passt? – „Hast du am Samstag frei?“", answers:["Ja, ich habe frei.","Nein, ich komme aus Berlin.","Ja, ich heiße Maria.","Nein, es ist 8 Uhr."], correct:"Ja, ich habe frei.", explain:"Frage = frei → Ja, ich habe frei."},
  {type:"mc", question:"Welche Antwort passt? – „Habt ihr morgen Schule?“", answers:["Ja, wir haben Schule.","Nein, wir haben frei.","Wir heißen Anna und Paul.","Heute ist Montag."], correct:"Ja, wir haben Schule.", explain:"Frage = Schule → Ja, wir haben Schule."},
  {type:"mc", question:"Welche Antwort passt? – „Hat er heute Zeit?“", answers:["Ja, er hat Zeit.","Nein, er hat keine Zeit.","Er heißt Peter.","Heute ist Sonntag."], correct:"Ja, er hat Zeit.", explain:"Frage = Zeit → Ja, er hat Zeit."},
  {type:"mc", question:"Welche Antwort passt? – „Haben Sie morgen frei?“", answers:["Ja, ich habe frei.","Nein, ich habe Arbeit.","Ich bin Lehrer.","Heute ist Freitag."], correct:"Ja, ich habe frei.", explain:"Formell: Haben Sie frei → Ja, ich habe frei."},
  {type:"mc", question:"Welche Frage passt zu: „Ich habe keine Zeit.“", answers:["Hast du Zeit?","Wie heißt du?","Woher kommst du?","Hast du frei?"], correct:"Hast du Zeit?", explain:"Antwort → Hast du Zeit? Nein, ich habe keine Zeit."},
  {type:"mc", question:"Welche Frage passt zu: „Wir haben morgen Schule.“", answers:["Habt ihr morgen Schule?","Seid ihr Lehrer?","Wo wohnt ihr?","Wie alt seid ihr?"], correct:"Habt ihr morgen Schule?", explain:"Antwort → Habt ihr morgen Schule? Ja, wir haben Schule."},
  {type:"mc", question:"Welche Antwort passt? – „Habt ihr am Sonntag frei?“", answers:["Ja, wir haben frei.","Nein, wir haben Schule.","Heute ist Freitag.","Ich heiße Anna."], correct:"Ja, wir haben frei.", explain:"Antwort = frei → Ja, wir haben frei."},
  {type:"mc", question:"Welche Form passt? – „Ich ___ Hunger.“", answers:["hast","hat","habe","haben"], correct:"habe", explain:"Ich habe Hunger."},
  {type:"mc", question:"Welche Form passt? – „Wir ___ Durst.“", answers:["habt","haben","hast","hat"], correct:"haben", explain:"Wir haben Durst."},
  {type:"mc", question:"Welche Form passt? – „Du ___ ein Auto.“", answers:["hat","habt","hast","haben"], correct:"hast", explain:"Du hast ein Auto."},
  {type:"mc", question:"Welche Form passt? – „Er ___ eine Schwester.“", answers:["haben","habt","hat","hast"], correct:"hat", explain:"Er hat eine Schwester."},
  {type:"mc", question:"Welche Form passt? – „Ihr ___ viele Freunde.“", answers:["habt","haben","hat","hast"], correct:"habt", explain:"Ihr habt viele Freunde."},
  {type:"mc", question:"Welche Form passt? – „Sie (plural) ___ keine Zeit.“", answers:["haben","habt","hat","hast"], correct:"haben", explain:"Sie haben keine Zeit."},
  {type:"mc", question:"Welche Antwort passt? – „Hast du am Freitag frei?“", answers:["Ja, ich habe frei.","Nein, ich habe Arbeit.","Heute ist Samstag.","Ich heiße Paul."], correct:"Ja, ich habe frei.", explain:"Frage = frei → Ja, ich habe frei."},

  // ---- 21–40 Fill in ----
  {type:"fill", question:"(I have time) Ich ___ Zeit.", correct:"habe", explain:"Ich habe Zeit."},
  {type:"fill", question:"(You have free time – informal) Du ___ frei.", correct:"hast", explain:"Du hast frei."},
  {type:"fill", question:"(He has a car) Er ___ ein Auto.", correct:"hat", explain:"Er hat ein Auto."},
  {type:"fill", question:"(We have school) Wir ___ Schule.", correct:"haben", explain:"Wir haben Schule."},
  {type:"fill", question:"(You all have money) Ihr ___ Geld.", correct:"habt", explain:"Ihr habt Geld."},
  {type:"fill", question:"(They have a house) Sie ___ ein Haus.", correct:"haben", explain:"Sie haben ein Haus."},
  {type:"fill", question:"(I have hunger) Ich ___ Hunger.", correct:"habe", explain:"Ich habe Hunger."},
  {type:"fill", question:"(She has no time) Sie ___ keine Zeit.", correct:"hat", explain:"Sie hat keine Zeit."},
  {type:"fill", question:"(We have free time) Wir ___ frei.", correct:"haben", explain:"Wir haben frei."},
  {type:"fill", question:"(Do you have time? informal) Hast du ___?", correct:"Zeit", explain:"Hast du Zeit?"},
  {type:"fill", question:"(Do you have free time? polite) Haben Sie ___?", correct:"frei", explain:"Haben Sie frei?"},
  {type:"fill", question:"(He has two brothers) Er ___ zwei Brüder.", correct:"hat", explain:"Er hat zwei Brüder."},
  {type:"fill", question:"(We have no school today) Wir ___ heute keine Schule.", correct:"haben", explain:"Wir haben heute keine Schule."},
  {type:"fill", question:"(You have a book – informal) Du ___ ein Buch.", correct:"hast", explain:"Du hast ein Buch."},
  {type:"fill", question:"(They have free time) Sie ___ frei.", correct:"haben", explain:"Sie haben frei."},
  {type:"fill", question:"(I have many friends) Ich ___ viele Freunde.", correct:"habe", explain:"Ich habe viele Freunde."},
  {type:"fill", question:"(She has homework) Sie ___ Hausaufgaben.", correct:"hat", explain:"Sie hat Hausaufgaben."},
  {type:"fill", question:"(We have a teacher) Wir ___ einen Lehrer.", correct:"haben", explain:"Wir haben einen Lehrer."},
  {type:"fill", question:"(You all have a problem) Ihr ___ ein Problem.", correct:"habt", explain:"Ihr habt ein Problem."},
  {type:"fill", question:"(He has free time) Er ___ frei.", correct:"hat", explain:"Er hat frei."},

  // ---- 41–50 True/False (Passage) ----
  {type:"mc", question:"Lukas spielt gern Fußball.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Am Samstag spielt er gern Fußball."},
  {type:"mc", question:"Lukas schaut am Abend gern Fernsehen.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Er schaut nicht gern Fernsehen."},
  {type:"mc", question:"Lukas liest am Abend gern ein Buch.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Er liest lieber ein Buch."},
  {type:"mc", question:"Lukas geht am Sonntag gern schwimmen.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Er geht nicht gern schwimmen."},
  {type:"mc", question:"Lukas geht am Sonntag gern ins Kino.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Am Sonntag geht er gern ins Kino."},
  {type:"mc", question:"Lukas hat am Wochenende frei.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Er hat am Wochenende frei."},
  {type:"mc", question:"Lukas trifft gern seine Familie.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Er trifft gern seine Familie."},
  {type:"mc", question:"Lukas isst am Wochenende nicht gern.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Er isst mit seiner Familie."},
  {type:"mc", question:"Lukas liest lieber ein Buch als Fernsehen zu schauen.", answers:["Richtig","Falsch"], correct:"Richtig", explain:"Im Text: Er liest lieber ein Buch."},
  {type:"mc", question:"Lukas spielt am Samstag Tennis.", answers:["Richtig","Falsch"], correct:"Falsch", explain:"Im Text: Er spielt Fußball."}
];

let current=0,score=0,timer,timeLeft=0;
const qEl=document.getElementById("question");
const aEl=document.getElementById("answers");
const fEl=document.getElementById("fillin");
const input=document.getElementById("fillInput");
const tEl=document.getElementById("timer");
const sEl=document.getElementById("score");
const eEl=document.getElementById("explanation");
const passage=document.getElementById("passage");

function loadQuestion(){
  const q=quizData[current];
  qEl.innerHTML=(current+1)+". "+q.question;
  aEl.innerHTML=""; fEl.style.display="none"; eEl.style.display="none"; eEl.innerHTML="";
  if(current>=40){ passage.style.display="block"; } else { passage.style.display="none"; }

  if(q.type==="mc"){
    const shuffled = shuffle([...q.answers]); 
    shuffled.forEach(ans=>{
      const btn=document.createElement("div");
      btn.className="answer"; btn.innerText=ans;
      btn.onclick=()=>checkAnswer(btn,ans,q.correct,q.explain);
      aEl.appendChild(btn);
    });
    if(current<20) resetTimer(20);
    else if(current<40) resetTimer(35);
    else resetTimer(300);
  } else {
    fEl.style.display="block";
    input.value=""; input.focus();
    if(current<40) resetTimer(35); else resetTimer(300);
  }
}
function checkAnswer(button,answer,correct,explanation){
  clearInterval(timer); lockAnswers();
  if(answer===correct){ button.classList.add("correct"); score+=10; }
  else{ button.classList.add("wrong"); }
  sEl.innerText="Punkte: "+score;
  eEl.style.display="block"; eEl.innerHTML=explanation;
}
function checkFill(){
  clearInterval(timer);
  const q=quizData[current];
  let ans=input.value.trim();
  if(ans===q.correct){ score+=10; eEl.innerHTML="✅ Richtig: "+q.correct; }
  else{ eEl.innerHTML="❌ Falsch. Richtige Antwort: "+q.correct; }
  eEl.style.display="block"; sEl.innerText="Punkte: "+score;
}
function lockAnswers(){ document.querySelectorAll(".answer").forEach(b=>b.style.pointerEvents="none"); }
function nextQuestion(){ clearInterval(timer); current++; if(current<quizData.length) loadQuestion(); else qEl.innerHTML="🎉 Quiz beendet! Punkte: "+score; }
function prevQuestion(){ if(current>0){ current--; loadQuestion(); } }
function resetTimer(seconds){
  timeLeft=seconds; tEl.innerText="⏱ "+timeLeft+"s"; clearInterval(timer);
  timer=setInterval(()=>{ timeLeft--; tEl.innerText="⏱ "+timeLeft+"s";
    if(timeLeft<=0){ clearInterval(timer);
      const q=quizData[current]; eEl.style.display="block"; eEl.innerHTML="⏰ Zeit abgelaufen. Richtige Antwort: "+q.correct;
    }
  },1000);
}
loadQuestion();
</script>
</body>
</html>
